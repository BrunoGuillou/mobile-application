<ion-header>

    <ion-toolbar>

        <ion-buttons slot="start">

            <ion-menu-button menu="main"></ion-menu-button>

        </ion-buttons>

        <ion-title>{{"drawer.item-surveys" | translate}}</ion-title>

    </ion-toolbar>

</ion-header>

<ion-content class="outer-content custom-container">

    <!-- Pull down to refresh -->
    <ion-refresher slot="fixed" (ionRefresh)="onRefresh($event)">

        <ion-refresher-content></ion-refresher-content>

    </ion-refresher>

    <!-- Spinner -->
    <div *ngIf="isLoading" class="flex-center">

        <ion-spinner color="primary"></ion-spinner>

    </div>

    <!-- Data fetched -->
    <div *ngIf="!isLoading">

        <!-- No data -->
        <div *ngIf="surveys.newSurveys.length <= 0 && surveys.doneSurveys.length <= 0" class="flex-center">

            <p class="no-surveys" [innerHTML]="'page-surveys.no-surveys' | translate"></p>

        </div>

        <!-- Some data -->
        <div *ngIf="surveys.newSurveys.length > 0 || surveys.doneSurveys.length > 0">

            <!-- New surveys header -->
            <div class="card-header">{{"page-surveys.header-new" | translate}}</div>

            <!-- No new surveys -->
            <div *ngIf="surveys.newSurveys.length <= 0" class="ion-text-center">

                <p class="no-surveys">{{"page-surveys.no-surveys-new" | translate}}</p>

            </div>

            <!-- New surveys -->
            <div *ngIf="surveys.newSurveys.length > 0">

                <ion-card>

                    <ion-card-content>

                        <ion-list>

                            <ion-item *ngFor="let survey of surveys.newSurveys"
                                      button
                                      detail="false"
                                      [routerLink]="['/', 'surveys', survey.id]">

                                <app-survey-item [survey]="survey" [locale]="locale"></app-survey-item>

                            </ion-item>

                        </ion-list>

                    </ion-card-content>

                </ion-card>

            </div>

            <!-- Completed surveys -->
            <div *ngIf="surveys.doneSurveys.length > 0">

                <div class="card-header card-header-completed">{{"page-surveys.header-completed" | translate}}</div>

                <ion-card>

                    <ion-card-content>

                        <ion-list>

                            <ion-item *ngFor="let survey of surveys.doneSurveys">

                                <app-survey-item [survey]="survey" [locale]="locale"></app-survey-item>

                            </ion-item>

                        </ion-list>

                    </ion-card-content>

                </ion-card>

            </div>

        </div>

    </div>

</ion-content>
